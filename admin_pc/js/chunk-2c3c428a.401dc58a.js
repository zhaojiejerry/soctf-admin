(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c3c428a"],{"552d":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("个人中心")])]),t("div",{staticStyle:{display:"flex"}},[t("div",[t("div",{attrs:{id:"user-head-div"}},[t("img",{staticClass:"img1",attrs:{src:null!=e.userObj.portrait?e.userObj.portrait:"@/assets/images/avater.jpeg",alt:"头像"}})]),t("el-upload",{staticClass:"upload-demo",staticStyle:{"text-align":"center"},attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload,action:"/baseApi/oss"}},[t("div",{staticStyle:{color:"#B59758","margin-top":"40px","text-align":"center"}},[e._v("【上传头像】")])])],1),t("el-form",{ref:"userObj",staticClass:"demo-userObj",attrs:{model:e.userObj,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"orgCode"}},[e._v(" "+e._s(e.userObj.username)+" ")]),t("el-form-item",{attrs:{label:"昵称",prop:"realName"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.userObj.realName,callback:function(s){e.$set(e.userObj,"realName",s)},expression:"userObj.realName"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"gender"}},[t("el-radio-group",{attrs:{"text-color":"#B59758",fill:"#B59758"},model:{value:e.userObj.gender,callback:function(s){e.$set(e.userObj,"gender",s)},expression:"userObj.gender"}},[t("el-radio",{attrs:{label:1}},[e._v("男")]),t("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.userObj.email,callback:function(s){e.$set(e.userObj,"email",s)},expression:"userObj.email"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.userObj.phone,callback:function(s){e.$set(e.userObj,"phone",s)},expression:"userObj.phone"}})],1),t("el-form-item",{attrs:{label:"地区",prop:"area"}},[t("el-cascader",{staticClass:"itemwidth",attrs:{options:e.areaOptions,props:{checkStrictly:!0,label:"name",value:"name"},clearable:""},model:{value:e.userObj.area,callback:function(s){e.$set(e.userObj,"area",s)},expression:"userObj.area"}})],1),t("el-form-item",{attrs:{label:"个性签名",prop:"signature"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.userObj.signature,callback:function(s){e.$set(e.userObj,"signature",s)},expression:"userObj.signature"}})],1),t("el-form-item",{attrs:{label:"学校",prop:"school"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.userObj.school,callback:function(s){e.$set(e.userObj,"school",s)},expression:"userObj.school"}})],1),t("el-form-item",{attrs:{label:"单位",prop:"company"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.userObj.company,callback:function(s){e.$set(e.userObj,"company",s)},expression:"userObj.company"}})],1),t("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[t("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.userObj.address,callback:function(s){e.$set(e.userObj,"address",s)},expression:"userObj.address"}})],1),t("el-form-item",{attrs:{label:"个人简介",prop:"remark"}},[t("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.userObj.remark,callback:function(s){e.$set(e.userObj,"remark",s)},expression:"userObj.remark"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.modifyUser}},[e._v("保存")])],1)],1)],1)])],1)},a=[],i=(t("a15b"),t("ac1f"),t("1276"),t("c24f")),l=t("2a16"),o=t("5f87"),u={data:function(){return{areaOptions:[],userObj:{},rules:{}}},created:function(){this.areaOptions=l,this.getOneUserInfo()},methods:{handleAvatarSuccess:function(e,s){e.success&&(this.userObj.portrait=e.message)},handleAvatarError:function(e,s,t){this.$message({message:e.message,type:"error"})},beforeAvatarUpload:function(e){var s=e.size/1024/1024<2;return s||this.$message.error("上传头像图片大小不能超过 2MB!"),s},toUserInfo:function(){this.$router.push({name:"career"})},getOneUserInfo:function(){var e=this;Object(i["h"])({usrId:Object(o["a"])("usrId")}).then((function(s){s.success&&(e.userObj=s.data,e.userObj.area=null==s.data.area?[]:s.data.area.split("/"))}))},modifyUser:function(){var e=this;if(null==this.userObj.phone||/^1[3456789]\d{9}$/.test(this.userObj.phone)){var s=/^([a-zA-Z\d])(\w|\-)+@[a-zA-Z\d]+\.[a-zA-Z]{2,4}$/;""==this.userObj.email||s.test(this.userObj.email)?Object(i["q"])({portrait:this.userObj.portrait,email:this.userObj.email,phone:this.userObj.phone,realName:this.userObj.realName,remark:this.userObj.remark,usrBranch:this.userObj.usrBranch,usrId:this.userObj.usrId,usrOrganization:this.userObj.usrOrganization,usrStatus:this.userObj.usrStatus,usrSuper:this.userObj.usrSuper,address:this.userObj.address,area:this.userObj.area.join("/"),company:this.userObj.company,gender:this.userObj.gender,school:this.userObj.school,signature:this.userObj.signature}).then((function(s){s.success?e.$message({type:"success",message:"修改成功"}):e.$message({type:"warning",message:s.message})})):this.$message({message:"请输入合法的邮箱号码",type:"error"})}else this.$message({message:"请输入合法的手机号码",type:"error"})}}},n=u,c=(t("904b"),t("2877")),b=Object(c["a"])(n,r,a,!1,null,null,null);s["default"]=b.exports},"904b":function(e,s,t){"use strict";var r=t("ceb5"),a=t.n(r);a.a},a15b:function(e,s,t){"use strict";var r=t("23e7"),a=t("44ad"),i=t("fc6a"),l=t("a640"),o=[].join,u=a!=Object,n=l("join",",");r({target:"Array",proto:!0,forced:u||!n},{join:function(e){return o.call(i(this),void 0===e?",":e)}})},ceb5:function(e,s,t){}}]);