(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a59043e"],{1460:function(e,t,o){"use strict";var r=o("a4c8"),i=o.n(r);i.a},2934:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var r=o("1d97");function i(e){return Object(r["a"])({url:e,baseURL:"/jsonApi"})}},"2a67":function(e,t,o){"use strict";var r=o("7e72"),i=o.n(r);i.a},6774:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return c})),o.d(t,"d",(function(){return l})),o.d(t,"e",(function(){return a}));var r=o("1d97");function i(e){return Object(r["a"])({url:"/addChoiceQuestion",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/deleteChoiceQuestion",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/getChoiceListForAdmin",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/getOneChoiceQuestion",method:"post",params:e})}function a(e){return Object(r["a"])({url:"/modifyChoiceQuestion",method:"post",data:e})}},"7e72":function(e,t,o){},a434:function(e,t,o){"use strict";var r=o("23e7"),i=o("23cb"),n=o("a691"),c=o("50c4"),l=o("7b0b"),a=o("65f0"),s=o("8418"),u=o("1dde"),m=o("ae40"),d=u("splice"),p=m("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,f=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var o,r,u,m,d,p,v=l(this),y=c(v.length),F=i(e,y),C=arguments.length;if(0===C?o=r=0:1===C?(o=0,r=y-F):(o=C-2,r=f(h(n(t),0),y-F)),y+o-r>g)throw TypeError(b);for(u=a(v,r),m=0;m<r;m++)d=F+m,d in v&&s(u,m,v[d]);if(u.length=r,o<r){for(m=F;m<y-r;m++)d=m+r,p=m+o,d in v?v[p]=v[d]:delete v[p];for(m=y;m>y-r+o;m--)delete v[m-1]}else if(o>r)for(m=y-r;m>F;m--)d=m+r-1,p=m+o-1,d in v?v[p]=v[d]:delete v[p];for(m=0;m<o;m++)v[m+F]=arguments[m+2];return v.length=y-r+o,u}})},a4c8:function(e,t,o){},ab67:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"background-color":"#edeef2"}},[o("div",[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("选择题管理")]),o("div",{staticClass:"right-part"},[-1!=e.buttons.indexOf("13")?o("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addNew}},[e._v("新增")]):e._e()],1)]),o("div",{staticClass:"user-child-list"},[o("el-table",{ref:"subAccountListTable",staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.tableList,"tooltip-effect":"dark"}},[o("el-table-column",{attrs:{prop:"name",align:"center",label:"题目名称"}}),o("el-table-column",{attrs:{prop:"choiceDescription",align:"center",label:"文本描述"}}),o("el-table-column",{attrs:{label:"题型",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.choiceType[t.row.choiceType-1])+" ")]}}])}),o("el-table-column",{attrs:{label:"难易程度",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-rate",{attrs:{value:parseInt(e.row.difficultyLevel),disabled:""}})]}}])}),o("el-table-column",{attrs:{label:"类别",align:"center",prop:"category","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"分值",align:"center",prop:"choiceScore","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"金币",align:"center",prop:"goldCoin","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"答题时间/秒",align:"center",prop:"choiceTime","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=e.buttons.indexOf("15")?o("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(o){return o.preventDefault(),e.handleEdit(t.row.choiceId)}}},[e._v("编辑")]):e._e(),-1!=e.buttons.indexOf("14")?o("el-button",{attrs:{size:"small",type:"text"},on:{click:function(o){return e.handleDelete(t.row.choiceId)}}},[e._v("删除")]):e._e()]}}])})],1),o("div",{staticClass:"pager-container mt30"},[o("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.tableTotal,background:"",size:"small",layout:"total,prev, pager, next, sizes, jumper, slot"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[o("el-button",{staticClass:"pagination-button",attrs:{size:"small",plain:""}},[e._v("确定")])],1)],1)],1)])],1),o("modify",{attrs:{"add-sign":e.addSign,"main-id":e.mainId},on:{getList:e.getChoiceListForAdmin},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)},i=[],n=o("6774"),c=o("ed08"),l=o("f8e9"),a={components:{modify:l["default"]},data:function(){return{show:!1,addSign:!1,mainId:"",tableList:[],tableTotal:0,pageSize:10,currentPage:1,choiceType:["单选","多选"]}},computed:{buttons:function(){return this.$store.state.buttons}},mounted:function(){this.getChoiceListForAdmin()},methods:{addNew:function(){this.show=!0,this.addSign=!0,this.mainId=""},parseTime:function(e){return Object(c["b"])(e)},handleEdit:function(e){this.show=!0,this.mainId=e,this.addSign=!1},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["b"])({choiceId:e}).then((function(e){e.success?(t.$message({type:"success",message:"删除成功"}),t.currentPage=1,t.getChoiceListForAdmin()):t.$message({type:"warning",message:e.message})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getChoiceListForAdmin:function(){var e=this;Object(n["c"])({currentPage:this.currentPage,extraParam:{},pageSize:this.pageSize}).then((function(t){t.success&&(e.tableList=t.data,e.tableTotal=t.count)}))},handleSizeChange:function(e){this.pageSize=e,this.getChoiceListForAdmin()},handleCurrentChange:function(e){this.currentPage=e,this.getChoiceListForAdmin()}}},s=a,u=(o("2a67"),o("2877")),m=Object(u["a"])(s,r,i,!1,null,"299ed69a",null);t["default"]=m.exports},f8e9:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:e.addSign?"新增":"修改"},on:{"update:visible":function(t){e.value=t}}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[o("el-form-item",{attrs:{label:"题目名称",prop:"name"}},[o("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),o("el-form-item",{attrs:{label:"选择题类型",prop:"choiceType"}},[o("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择类型"},model:{value:e.ruleForm.choiceType,callback:function(t){e.$set(e.ruleForm,"choiceType",t)},expression:"ruleForm.choiceType"}},[o("el-option",{attrs:{label:"单选",value:"1"}}),o("el-option",{attrs:{label:"多选",value:"2"}})],1)],1),o("el-form-item",{attrs:{label:"选项"}},e._l(e.ruleForm.optionVos,(function(t,r){return o("div",{key:r},[o("el-input",{staticClass:"itemwidth",model:{value:t.optionDescription,callback:function(o){e.$set(t,"optionDescription",o)},expression:"item.optionDescription"}}),o("span",0==r?{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"25px","vertical-align":"middle"},on:{click:e.plus}}:{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"25px","vertical-align":"middle"},on:{click:function(t){return e.remove(r)}}})],1)})),0),o("el-form-item",{attrs:{label:"正确答案",prop:"correctAnswer"}},[o("el-select",{staticClass:"itemwidth",attrs:{multiple:2==e.ruleForm.choiceType,placeholder:"请选择标签"},model:{value:e.ruleForm.correctAnswer,callback:function(t){e.$set(e.ruleForm,"correctAnswer",t)},expression:"ruleForm.correctAnswer"}},e._l(e.ruleForm.optionVos,(function(e,t){return o("el-option",{key:t,attrs:{label:e.optionDescription,value:e.optionCode}})})),1)],1),o("el-form-item",{attrs:{label:"类别",prop:"category"}},[o("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择类别"},model:{value:e.ruleForm.category,callback:function(t){e.$set(e.ruleForm,"category",t)},expression:"ruleForm.category"}},e._l(e.subject,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),o("el-form-item",{attrs:{label:"难易程度",prop:"difficultyLevel"}},[o("div",{staticClass:"itemwidth",staticStyle:{"padding-top":"10px"}},[o("el-rate",{model:{value:e.ruleForm.difficultyLevel,callback:function(t){e.$set(e.ruleForm,"difficultyLevel",t)},expression:"ruleForm.difficultyLevel"}})],1)]),o("el-form-item",{attrs:{label:"金币",prop:"goldCoin"}},[o("el-input",{staticClass:"itemwidth",attrs:{min:0},model:{value:e.ruleForm.goldCoin,callback:function(t){e.$set(e.ruleForm,"goldCoin",e._n(t))},expression:"ruleForm.goldCoin"}})],1),o("el-form-item",{attrs:{label:"分值",prop:"choiceScore"}},[o("el-input",{staticClass:"itemwidth",attrs:{min:0},model:{value:e.ruleForm.choiceScore,callback:function(t){e.$set(e.ruleForm,"choiceScore",e._n(t))},expression:"ruleForm.choiceScore"}})],1),o("el-form-item",{attrs:{label:"答题时间/秒",prop:"choiceTime"}},[o("el-input",{staticClass:"itemwidth",attrs:{min:0},model:{value:e.ruleForm.choiceTime,callback:function(t){e.$set(e.ruleForm,"choiceTime",e._n(t))},expression:"ruleForm.choiceTime"}})],1),o("el-form-item",{attrs:{label:"描述",prop:"choiceDescription"}},[o("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.choiceDescription,callback:function(t){e.$set(e.ruleForm,"choiceDescription",t)},expression:"ruleForm.choiceDescription"}})],1),o("el-form-item",{attrs:{label:"备注",prop:"remark"}},[o("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),o("el-button",{on:{click:e.back}},[e._v("取消")])],1)],1)},i=[],n=(o("a15b"),o("a434"),o("b0c0"),o("6774")),c=o("2934"),l={components:{},props:{value:{type:Boolean,default:!1},addSign:{type:Boolean,default:!1},mainId:{type:String,default:""}},data:function(){return{ruleForm:{bankId:"",category:"",choiceDescription:"",choiceId:"",choiceScore:0,choiceTime:0,choiceType:"",correctAnswer:"",difficultyLevel:0,goldCoin:0,name:"",optionArray:"",optionVos:[{optionCode:String.fromCharCode(65),optionDescription:""}],remark:"",solved:!1},label:[],rules:{name:[{required:!0,message:"请输入题目名称",trigger:"blur"}],choiceType:[{required:!0,message:"请选择选择题类型",trigger:"change"}],correctAnswer:[{required:!0,message:"请选择答案",trigger:"change"}],category:[{required:!0,message:"请选择类别",trigger:"change"}]},fileList:[],subject:[]}},watch:{value:function(e){e&&(this.addSign?this.ruleForm={bankId:"",category:"",choiceDescription:"",choiceId:"",choiceScore:0,choiceTime:0,choiceType:"",correctAnswer:"",difficultyLevel:0,goldCoin:0,name:"",optionArray:"",optionVos:[{optionCode:String.fromCharCode(65),optionDescription:""}],remark:"",solved:!1}:this.getOneChoiceQuestion())}},mounted:function(){this.getjson()},methods:{getjson:function(){var e=this;Object(c["a"])("ctf.json").then((function(t){e.subject=t.subject}))},plus:function(){this.ruleForm.optionVos.push({optionCode:String.fromCharCode(64+this.ruleForm.optionVos.length+1),optionDescription:""}),console.log(this.ruleForm.optionVos)},remove:function(e){this.ruleForm.optionVos.splice(e,1)},getOneChoiceQuestion:function(){var e=this;Object(n["d"])({choiceId:this.mainId}).then((function(t){t.success&&(e.ruleForm=t.data,e.ruleForm.difficultyLevel=parseInt(t.data.difficultyLevel))}))},back:function(){this.$emit("input",!1)},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.addSign?Object(n["a"])({bankId:"",category:e.ruleForm.category,choiceDescription:e.ruleForm.choiceDescription,choiceId:"",choiceScore:e.ruleForm.choiceScore,choiceTime:e.ruleForm.choiceTime,choiceType:e.ruleForm.choiceType,correctAnswer:2==e.ruleForm.choiceType?e.ruleForm.correctAnswer.join(","):e.ruleForm.correctAnswer,difficultyLevel:e.ruleForm.difficultyLevel,goldCoin:e.ruleForm.goldCoin,name:e.ruleForm.name,optionArray:e.ruleForm.optionArray,optionVos:e.ruleForm.optionVos,remark:e.ruleForm.remark,solved:!1}).then((function(t){t.success?(e.$message({type:"success",message:"新增成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})):Object(n["e"])({bankId:e.ruleForm.bankId,category:e.ruleForm.category,choiceDescription:e.ruleForm.choiceDescription,choiceId:e.ruleForm.choiceId,choiceScore:e.ruleForm.choiceScore,choiceTime:e.ruleForm.choiceTime,choiceType:e.ruleForm.choiceType,correctAnswer:2==e.ruleForm.choiceType?e.ruleForm.correctAnswer.join(","):e.ruleForm.correctAnswer,difficultyLevel:e.ruleForm.difficultyLevel,goldCoin:e.ruleForm.goldCoin,name:e.ruleForm.name,optionArray:e.ruleForm.optionArray,optionVos:e.ruleForm.optionVos,remark:e.ruleForm.remark,solved:e.ruleForm.solved}).then((function(t){t.success?(e.$message({type:"success",message:"修改成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})))}))}}},a=l,s=(o("1460"),o("2877")),u=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=u.exports}}]);