(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4adf4dec"],{"0539":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"live"},[r("el-dialog",{attrs:{visible:e.value,width:"70%","show-close":!1,title:"用户比赛详情"},on:{"update:visible":function(t){e.value=t}}},[r("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"总览",name:"first"}},[r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("用户信息")])]),r("div",{staticClass:"details-content"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:9}},[r("div",{staticClass:"bg-purple"},[r("img",{attrs:{src:""!=e.userObj.portrait?e.userObj.portrait:"@/assets/images/avater.png",alt:"头像"}})]),r("span",{staticStyle:{color:"rgba(181, 151, 88, 1)","padding-left":"25px",cursor:"pointer"},on:{click:function(t){e.show=!0}}},[e._v(" [修改信息]")])]),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"bg-purple"},[r("p",{staticClass:"p1"},[e._v(e._s(e.userObj.score))])]),r("p",{staticClass:"p2"},[e._v("积分")])]),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"bg-purple"},[r("p",{staticClass:"p1"},[e._v(e._s(e.userObj.rowNum))])]),r("p",{staticClass:"p2"},[e._v("排名")])]),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"bg-purple"},[r("p",{staticClass:"p1"},[e._v(e._s(e.userObj.gold_coin))])]),r("p",{staticClass:"p2"},[e._v("金币")])])],1)],1)]),r("el-card",{staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("个人技能雷达图")])]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("div",{attrs:{id:"skill-chart"}}),r("div",{attrs:{id:"skill-title"}},[r("img",{attrs:{src:a("f8ea"),alt:""}}),r("span",[e._v("各项值")])])]),r("el-col",{attrs:{span:12}},e._l(e.kdaList,(function(t,s){return r("div",{key:s,staticClass:"skill-item"},[r("span",{staticClass:"name"},[e._v(e._s(t.category))]),r("img",{staticClass:"stars",attrs:{src:a("b215"),alt:""}}),r("div",{staticClass:"progress"},[r("p",{style:{width:t.Count/t.allCount*100+"%"}})]),r("span",{staticClass:"billie"},[e._v(e._s(e.fixed(t.Count/t.allCount*100))+"%")])])})),0)],1)],1)],1),r("el-tab-pane",{attrs:{label:"历史战绩",name:"second"}},[r("el-card",{attrs:{shadow:"never"}},[r("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.listRecords,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{prop:"name",align:"center",label:"题目"}}),r("el-table-column",{attrs:{align:"center",label:"耗时"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.formatSeconds(a.consumeTime))+" ")]}}])}),r("el-table-column",{attrs:{prop:"score",align:"center",label:"积分"}}),r("el-table-column",{attrs:{label:"答题时间",align:"center",prop:"answerTime"}})],1),r("div",{staticClass:"pager-container mt30"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.total,background:"",size:"small",layout:"total,prev, pager, next, sizes, jumper, slot"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[r("el-button",{staticClass:"pagination-button",attrs:{size:"small",plain:""}},[e._v("确定")])],1)],1)],1),r("el-card",{staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("近日做题趋势")])]),r("div",{staticStyle:{"padding-top":"30px"},attrs:{id:"category-box"}},e._l(e.categoryList,(function(t,a){return r("div",{key:a,class:e.type==t?"box-act":"category-box",on:{click:function(a){return e.getPersonalSkillRadarChart(t)}}},[e._v(e._s(t))])})),0),r("div",{attrs:{id:"skill-chart2"}})])],1),r("el-tab-pane",{attrs:{label:"比赛记录",name:"third"}},[r("el-card",{attrs:{shadow:"never"}},[r("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.rankingList,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{prop:"gameName",align:"center",label:"比赛名称"}}),r("el-table-column",{attrs:{align:"center",label:"获得名次"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" 第 "+e._s(a.ranking)+" 名 ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"比赛类型"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s("1"==a.gameType?"个人":"团队")+" ")]}}])}),r("el-table-column",{attrs:{prop:"answer",align:"center",label:"解题数量"}}),r("el-table-column",{attrs:{label:"获得积分",align:"center",prop:"score"}})],1),r("div",{staticClass:"pager-container mt30"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.total,background:"",size:"small",layout:"total,prev, pager, next, sizes, jumper, slot"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[r("el-button",{staticClass:"pagination-button",attrs:{size:"small",plain:""}},[e._v("确定")])],1)],1)],1)],1),r("el-tab-pane",{attrs:{label:"历史荣誉",name:"fourth"}},[r("el-card",{attrs:{shadow:"never"}},[r("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.listRecord,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{prop:"gameName",align:"center",label:"比赛名称"}}),r("el-table-column",{attrs:{prop:"answer",align:"center",label:"解题数量"}}),r("el-table-column",{attrs:{label:"获得积分",align:"center",prop:"score"}})],1),r("div",{staticClass:"pager-container mt30"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.total,background:"",size:"small",layout:"total,prev, pager, next, sizes, jumper, slot"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[r("el-button",{staticClass:"pagination-button",attrs:{size:"small",plain:""}},[e._v("确定")])],1)],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("关闭")])],1)],1),r("modify",{attrs:{"add-sign":!1,"rule-form":e.ruleForm},on:{getList:e.getUserInfoList},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)},s=[],l=(a("4160"),a("c975"),a("b680"),a("159b"),a("fab0")),o=a("313e"),i=a.n(o),n=a("c24f"),c={components:{modify:l["default"]},props:{value:Boolean,ruleForm:{type:Object,default:function(){}}},data:function(){return{show:!1,activeName:"first",kdaList:[],userObj:{},categoryList:[],listRecords:[],total:0,currentPage:1,pageSize:10,type:"",rankingList:[],listRecord:[]}},watch:{value:function(e){e&&(this.activeName="first",this.getOverviewForUser())}},methods:{getUserInfoList:function(){this.$emit("getUserInfoList"),"first"==this.activeName&&this.getOverviewForUser()},handleClick:function(e){this.currentPage=1,this.getData()},getData:function(){switch(this.activeName){case"first":this.getOverviewForUser();break;case"second":this.getHistoricalRecords(),this.getPersonalSkillRadarChart(this.categoryList[0]);break;case"third":this.getCompetitionRecord();break;case"fourth":this.HistoricalHonor();break}},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},fixed:function(e){return e.toFixed(2)},HistoricalHonor:function(){var e=this;Object(n["a"])({pageNo:this.currentPage,pageSize:9,userId:this.ruleForm.usrId}).then((function(t){t.success&&(e.listRecord=t.data.records,e.total=t.data.total)}))},getCompetitionRecord:function(){var e=this;Object(n["e"])({pageNo:this.currentPage,pageSize:20,userId:this.ruleForm.usrId}).then((function(t){e.rankingList=t.data.records,e.total=t.data.total}))},getOverviewForUser:function(){var e=this;Object(n["j"])({userId:this.ruleForm.usrId}).then((function(t){t.success&&(e.userObj=t.data.userInfo,e.kdaList=t.data.kda,e.getEcharts(t.data.kda),e.categoryList=[],e.kdaList.forEach((function(t){e.categoryList.push(t.category)})))}))},getEcharts:function(e){var t=i.a.init(document.getElementById("skill-chart")),a=[],r=[];e.forEach((function(e){a.push({name:e.category,max:e.allCount}),r.push(e.Count)}));var s={radar:{name:{textStyle:{color:"#888"}},indicator:a,splitNumber:5,axisLine:{lineStyle:{color:"#888"}},splitArea:{show:!1},splitLine:{lineStyle:{color:"#B59758"}}},series:[{type:"radar",data:[{value:r,name:"技能",lineStyle:{color:"#B59758"},areaStyle:{opacity:.3,color:new i.a.graphic.RadialGradient(.5,.5,1,[{color:"#B59758",offset:.3},{color:"#B59758",offset:.3}])}}]}]};t.setOption(s)},close:function(){this.$emit("input",!1)},getHistoricalRecords:function(){var e=this;Object(n["f"])({category:"",difficultyLevel:"",name:"",pageNo:this.currentPage,pageSize:10,userId:this.ruleForm.usrId}).then((function(t){t.success&&(e.listRecords=t.data.records,e.total=t.data.total)}))},currentChange:function(e){this.currentPage=e,this.getHistoricalRecords()},getPersonalSkillRadarChart:function(e){this.type=e;var t=new Date,a=t.getTime()-5184e5,r=new Date(a),s=this;Object(n["k"])({endTime:t,startTime:r,userId:this.ruleForm.usrId,category:e}).then((function(e){e.success&&s.getEcharts2(e.data)}))},formatSeconds:function(e){var t=Math.floor(e%3600),a=Math.floor(e/3600)+"时"+Math.floor(t/60)+"分"+e%60+"秒";return a},getEcharts2:function(e){var t=i.a.init(document.getElementById("skill-chart2")),a=[],r=[],s=[];e.forEach((function(e){null!=e.category?s.push(e.count):s.push(0),-1==a.indexOf(e.date)&&a.push(e.date)}));var l={tooltip:{trigger:"axis"},legend:{data:r,textStyle:{color:"#B59757",fontSize:14}},xAxis:{type:"category",boundaryGap:!1,data:a,axisLabel:{color:"#B59757",fontSize:14},axisLine:{show:!0}},yAxis:{type:"value",axisLabel:{color:"#B59757",fontSize:14}},series:[{data:s,type:"line",smooth:!0,name:"dd",itemStyle:{normal:{color:"#B59757",lineStyle:{color:"#B59757"}}}}]};t.setOption(l)}}},u=c,m=(a("8ce5"),a("2877")),p=Object(m["a"])(u,r,s,!1,null,null,null);t["default"]=p.exports},"3f41":function(e,t,a){},"408a":function(e,t,a){var r=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4a9e":function(e,t,a){"use strict";var r=a("ec04"),s=a.n(r);s.a},"8ce5":function(e,t,a){"use strict";var r=a("3f41"),s=a.n(r);s.a},b215:function(e,t,a){e.exports=a.p+"img/icon-07.159d0f40.png"},b680:function(e,t,a){"use strict";var r=a("23e7"),s=a("a691"),l=a("408a"),o=a("1148"),i=a("d039"),n=1..toFixed,c=Math.floor,u=function(e,t,a){return 0===t?a:t%2===1?u(e,t-1,a*e):u(e*e,t/2,a)},m=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},p=n&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){n.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,a,r,i,n=l(this),p=s(e),d=[0,0,0,0,0,0],g="",f="0",h=function(e,t){var a=-1,r=t;while(++a<6)r+=e*d[a],d[a]=r%1e7,r=c(r/1e7)},b=function(e){var t=6,a=0;while(--t>=0)a+=d[t],d[t]=c(a/e),a=a%e*1e7},v=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var a=String(d[e]);t=""===t?a:t+o.call("0",7-a.length)+a}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(n<0&&(g="-",n=-n),n>1e-21)if(t=m(n*u(2,69,1))-69,a=t<0?n*u(2,-t,1):n/u(2,t,1),a*=4503599627370496,t=52-t,t>0){h(0,a),r=p;while(r>=7)h(1e7,0),r-=7;h(u(10,r,1),0),r=t-1;while(r>=23)b(1<<23),r-=23;b(1<<r),h(1,1),b(2),f=v()}else h(0,a),h(1<<-t,0),f=v()+o.call("0",p);return p>0?(i=f.length,f=g+(i<=p?"0."+o.call("0",p-i)+f:f.slice(0,i-p)+"."+f.slice(i-p))):f=g+f,f}})},ec04:function(e,t,a){},f8ea:function(e,t,a){e.exports=a.p+"img/icon-06.faaf0a90.png"},fab0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:e.addSign?"新增":"修改"},on:{"update:visible":function(t){e.value=t}}},[a("div",{staticStyle:{display:"flex"}},[a("div",[a("div",{attrs:{id:"user-head-div"}},[a("img",{staticClass:"img1",attrs:{src:null!=e.ruleForm.portrait?e.ruleForm.portrait:"@/assets/images/avater.png",alt:"头像"}})]),a("el-upload",{staticClass:"upload-demo",staticStyle:{"text-align":"center"},attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload,action:"/baseApi/oss"}},[a("div",{staticStyle:{color:"#B59758","margin-top":"40px","text-align":"center"}},[e._v(" 【上传头像】 ")])])],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"realName"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.realName,callback:function(t){e.$set(e.ruleForm,"realName",t)},expression:"ruleForm.realName"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[a("el-option",{attrs:{value:1,label:"男"}}),a("el-option",{attrs:{value:2,label:"女"}})],1)],1),a("el-form-item",{attrs:{label:"用户状态",prop:"usrStatus"}},[a("el-select",{attrs:{clearable:""},model:{value:e.ruleForm.usrStatus,callback:function(t){e.$set(e.ruleForm,"usrStatus",t)},expression:"ruleForm.usrStatus"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),a("el-option",{attrs:{label:"不可用",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[a("el-select",{attrs:{clearable:""},model:{value:e.ruleForm.userType,callback:function(t){e.$set(e.ruleForm,"userType",t)},expression:"ruleForm.userType"}},[a("el-option",{attrs:{label:"用户端",value:"1"}}),a("el-option",{attrs:{label:"管理端",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),a("el-form-item",{attrs:{label:"地区",prop:"area"}},[a("el-cascader",{staticClass:"itemwidth",attrs:{options:e.areaOptions,props:{checkStrictly:!0,label:"name",value:"name"},clearable:""},model:{value:e.ruleForm.area,callback:function(t){e.$set(e.ruleForm,"area",t)},expression:"ruleForm.area"}})],1),a("el-form-item",{attrs:{label:"个性签名",prop:"signature"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.signature,callback:function(t){e.$set(e.ruleForm,"signature",t)},expression:"ruleForm.signature"}})],1),a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.school,callback:function(t){e.$set(e.ruleForm,"school",t)},expression:"ruleForm.school"}})],1),a("el-form-item",{attrs:{label:"单位",prop:"company"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.company,callback:function(t){e.$set(e.ruleForm,"company",t)},expression:"ruleForm.company"}})],1),a("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[a("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),a("el-form-item",{attrs:{label:"个人简介",prop:"remark"}},[a("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{on:{click:e.back}},[e._v("取消")])],1)])],1)},s=[],l=(a("a15b"),a("c24f")),o=a("2a16"),i={components:{},props:{value:{type:Boolean,default:!1},addSign:{type:Boolean,default:!1},ruleForm:{type:Object,default:function(){}}},data:function(){return{areaOptions:[],dialogTableVisible:!1,question:"",label:[],rules:{title:[{required:!0,message:"请输入答案/文档标题",trigger:"blur"}],fileType:[{required:!0,message:"请选择文档类型",trigger:"change"}]},fileList:[],subList:[],subTotal:0,pageSize:10,currentPage:1,questionRow:[],questionType:["容器","附件","选择"]}},mounted:function(){this.areaOptions=o},methods:{handleAvatarSuccess:function(e,t){e.success&&(this.ruleForm.portrait=e.message)},handleAvatarError:function(e,t,a){this.$message({message:e.message,type:"error"})},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},back:function(){this.$emit("input",!1)},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.addSign?Object(l["c"])({portrait:e.ruleForm.portrait,email:e.ruleForm.email,phone:e.ruleForm.phone,realName:e.ruleForm.realName,remark:e.ruleForm.remark,usrBranch:e.ruleForm.usrBranch,usrId:e.ruleForm.usrId,usrOrganization:e.ruleForm.usrOrganization,usrStatus:e.ruleForm.usrStatus,usrSuper:e.ruleForm.usrSuper,address:e.ruleForm.address,area:e.ruleForm.area.join("/"),company:e.ruleForm.company,gender:e.ruleForm.gender,school:e.ruleForm.school,signature:e.ruleForm.signature,goldCoin:0,idcardNo:"",idcardTyp:"",joinGame:!1,password:"",roleIds:[],score:0,specialRoleId:0,teamId:"",teamOwner:!1,userTyp:"",username:e.ruleForm.username}).then((function(t){t.success?(e.$message({type:"success",message:"新增成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})):Object(l["s"])({portrait:e.ruleForm.portrait,email:e.ruleForm.email,phone:e.ruleForm.phone,realName:e.ruleForm.realName,remark:e.ruleForm.remark,usrBranch:e.ruleForm.usrBranch,usrId:e.ruleForm.usrId,usrOrganization:e.ruleForm.usrOrganization,usrStatus:e.ruleForm.usrStatus,usrSuper:e.ruleForm.usrSuper,address:e.ruleForm.address,area:null==e.ruleForm.area?"":e.ruleForm.area.join("/"),company:e.ruleForm.company,gender:e.ruleForm.gender,school:e.ruleForm.school,signature:e.ruleForm.signature}).then((function(t){t.success?(e.$message({type:"success",message:"修改成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})))}))}}},n=i,c=(a("4a9e"),a("2877")),u=Object(c["a"])(n,r,s,!1,null,null,null);t["default"]=u.exports}}]);