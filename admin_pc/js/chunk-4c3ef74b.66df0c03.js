(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c3ef74b"],{"0943":function(e,t,r){"use strict";var l=r("5648"),o=r.n(l);o.a},"0feb":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return m}));var l=r("1d97");function o(e){return Object(l["a"])({url:"/sys/addPermission",method:"post",data:e})}function a(e){return Object(l["a"])({url:"/sys/deletePermission",method:"get",params:e})}function n(e){return Object(l["a"])({url:"/sys/linkRoleMenu",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/sys/modifyPermission",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/sys/getPermissionList",method:"get",params:e})}function m(e){return Object(l["a"])({url:"/sys/getPermissionListTree",method:"get",params:e})}},"50a4":function(e,t,r){"use strict";var l=r("6c02"),o=r.n(l);o.a},5648:function(e,t,r){},"6c02":function(e,t,r){},cbce:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"100%"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("菜单管理")]),r("div",{staticClass:"right-part"},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addNew}},[e._v("新增")])],1)]),r("div",{staticClass:"user-child-list"},[r("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.tableList,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{prop:"permCode",align:"center",label:"权限编码"}}),r("el-table-column",{attrs:{prop:"permName",align:"center",label:"权限名称"}}),r("el-table-column",{attrs:{prop:"name",align:"center",label:"菜单名称"}}),r("el-table-column",{attrs:{prop:"redirectUrl",align:"center",label:"路径"}}),r("el-table-column",{attrs:{prop:"icon",align:"center",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("span",{class:t.icon})]}}])}),r("el-table-column",{attrs:{label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(1==r.permType?"菜单":"按钮")+" ")]}}])}),r("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(r){return r.preventDefault(),e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(r){return r.preventDefault(),e.deletePermission(t.row.permId)}}},[e._v("删除")])]}}])})],1)],1)]),r("modify",{attrs:{"add-sign":e.addSign,"table-list":e.tableList,"rule-form":e.ruleForm},on:{getList:e.getPermissionList},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)},o=[],a=r("0feb"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:e.addSign?"新增":"修改"},on:{"update:visible":function(t){e.value=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[r("el-form-item",{attrs:{label:"权限码",prop:"permCode"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.permCode,callback:function(t){e.$set(e.ruleForm,"permCode",t)},expression:"ruleForm.permCode"}})],1),r("el-form-item",{attrs:{label:"权限名称",prop:"permName"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.permName,callback:function(t){e.$set(e.ruleForm,"permName",t)},expression:"ruleForm.permName"}})],1),r("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"权限类型",prop:"permType"}},[r("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择权限类型"},model:{value:e.ruleForm.permType,callback:function(t){e.$set(e.ruleForm,"permType",t)},expression:"ruleForm.permType"}},[r("el-option",{attrs:{label:"菜单",value:"1"}}),r("el-option",{attrs:{label:"按钮",value:"2"}})],1)],1),r("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[r("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择父级菜单"},model:{value:e.ruleForm.parentId,callback:function(t){e.$set(e.ruleForm,"parentId",t)},expression:"ruleForm.parentId"}},e._l(e.tableList,(function(e,t){return r("el-option",{directives:[{name:"show",rawName:"v-show",value:1==e.permType,expression:"item.permType==1"}],key:t,attrs:{label:e.permName,value:e.permId}})})),1)],1),r("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[r("e-icon-picker",{staticClass:"itemwidth",attrs:{options:e.options},model:{value:e.ruleForm.icon,callback:function(t){e.$set(e.ruleForm,"icon",t)},expression:"ruleForm.icon"}})],1),r("el-form-item",{attrs:{label:"组件",prop:"component"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.component,callback:function(t){e.$set(e.ruleForm,"component",t)},expression:"ruleForm.component"}})],1),r("el-form-item",{attrs:{label:"跳转路径",prop:"path"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.path,callback:function(t){e.$set(e.ruleForm,"path",t)},expression:"ruleForm.path"}})],1),r("el-form-item",{attrs:{label:"重定向地址",prop:"redirectUrl"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.redirectUrl,callback:function(t){e.$set(e.ruleForm,"redirectUrl",t)},expression:"ruleForm.redirectUrl"}})],1),r("el-form-item",{attrs:{label:"高亮菜单",prop:"activeMenu"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.activeMenu,callback:function(t){e.$set(e.ruleForm,"activeMenu",t)},expression:"ruleForm.activeMenu"}})],1),r("el-form-item",{attrs:{label:"排序",prop:"sortOrder"}},[r("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.sortOrder,callback:function(t){e.$set(e.ruleForm,"sortOrder",e._n(t))},expression:"ruleForm.sortOrder"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),r("el-button",{on:{click:e.back}},[e._v("取消")])],1)],1)],1)},s=[],i=(r("b0c0"),r("e149")),m={components:{EIconPicker:i["EIconPicker"]},props:{value:{type:Boolean,default:!1},addSign:{type:Boolean,default:!1},ruleForm:{type:Object,default:function(){}},tableList:{type:Array,default:function(){return[]}}},data:function(){return{rules:{permName:[{required:!0,message:"请输入权限名称",trigger:"blur"}],name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},options:{FontAwesome:!0,ElementUI:!0,addIconList:[],removeIconList:[]}}},mounted:function(){},methods:{back:function(){this.$emit("input",!1)},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.addSign?Object(a["a"])({createTime:new Date,activeMenu:e.ruleForm.activeMenu,component:e.ruleForm.component,icon:e.ruleForm.icon,name:e.ruleForm.name,parentId:e.ruleForm.parentId,path:e.ruleForm.path,permCode:e.ruleForm.permCode,permId:"",permName:e.ruleForm.permName,permType:e.ruleForm.permType,redirectUrl:e.ruleForm.redirectUrl,sortOrder:e.ruleForm.sortOrder}).then((function(t){t.success?(e.$message({type:"success",message:"新增成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})):Object(a["f"])({createTime:e.ruleForm.createTime,activeMenu:e.ruleForm.activeMenu,component:e.ruleForm.component,icon:e.ruleForm.icon,name:e.ruleForm.name,parentId:e.ruleForm.parentId,path:e.ruleForm.path,permCode:e.ruleForm.permCode,permId:e.ruleForm.permId,permName:e.ruleForm.permName,permType:e.ruleForm.permType,redirectUrl:e.ruleForm.redirectUrl,sortOrder:e.ruleForm.sortOrder}).then((function(t){t.success?(e.$message({type:"success",message:"修改成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})))}))}}},c=m,u=(r("0943"),r("2877")),p=Object(u["a"])(c,n,s,!1,null,null,null),d=p.exports,f=r("ed08"),b={components:{modify:d},data:function(){return{show:!1,addSign:!1,ruleForm:{},tableList:[]}},mounted:function(){this.getPermissionList()},methods:{addNew:function(){this.show=!0,this.addSign=!0,this.ruleForm={activeMenu:"",component:"",createTime:"",icon:"",name:"",parentId:"",path:"",permCode:"",permId:"",permName:"",permType:"",redirectUrl:"",sortOrder:0}},handleEdit:function(e){this.show=!0,this.ruleForm=Object(f["a"])(e),this.addSign=!1},deletePermission:function(e){var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])({permissionId:e}).then((function(e){e.success?(t.$message({type:"success",message:"删除成功"}),t.getPermissionList()):t.$message({type:"warning",message:e.message})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getPermissionList:function(){var e=this;Object(a["c"])().then((function(t){t.success&&(e.tableList=t.data)}))}}},h=b,F=(r("50a4"),Object(u["a"])(h,l,o,!1,null,"28dd86de",null));t["default"]=F.exports}}]);