(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6705ede1"],{"08d7":function(e,t){e.exports="data:image/png;base64,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"},"0a5f":function(e,t,a){"use strict";var s=a("5202"),r=a.n(s);r.a},"0b1f":function(e,t,a){"use strict";var s=a("89d8"),r=a.n(s);r.a},2388:function(e,t,a){},"40e1":function(e,t,a){"use strict";var s=a("82c7"),r=a.n(s);r.a},"4eff":function(e,t,a){},5202:function(e,t,a){},"82c7":function(e,t,a){},"89d8":function(e,t,a){},"973b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"live"},[s("el-dialog",{attrs:{visible:e.value,width:"70%","show-close":!1},on:{"update:visible":function(t){e.value=t}}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:15}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("比赛直播")])]),s("div",{staticClass:"details-content"},[s("el-scrollbar",{staticStyle:{height:"100%"}},e._l(e.noticeList,(function(t,a){return s("div",{key:a,staticClass:"line"},[e._v(" "+e._s(t.createAt)+" : "),s("span",{staticStyle:{color:"#E9852D"}},[e._v("【"+e._s(t.json.operator)+"】")]),s("span",{staticStyle:{color:"#0DA0B4"}},[e._v(e._s(t.json.userName))]),e._v(" 攻克了 "),s("span",{staticStyle:{color:"#B59758"}},[e._v(e._s(t.json.questionName))])])})),0)],1)])],1),s("el-col",{attrs:{span:9}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("排行榜")])]),s("div",{staticClass:"details-content"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("el-table",{attrs:{data:e.rankingList,"show-header":!1,"highlight-current-row":"","tooltip-effect":"dark"}},[s("el-table-column",{attrs:{align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"order"},[1==t.row.rowNum?s("img",{attrs:{src:a("08d7"),alt:""}}):2==t.row.rowNum?s("img",{attrs:{src:a("bf8b"),alt:""}}):3==t.row.rowNum?s("img",{attrs:{src:a("ee6e"),alt:""}}):s("span",[e._v(e._s(t.row.rowNum))])]),s("div",{staticClass:"headimg"},[s("img",{attrs:{src:null==t.row.portrait?"@/assets/images/avater.png":t.row.portrait,alt:""}})]),s("span",{staticClass:"name"},[e._v(e._s(t.row.userName))])]}}])}),s("el-table-column",{attrs:{align:"right","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.parseTime(t.row.upd_time)))])]}}])})],1)],1)],1)])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.close}},[e._v("关闭")])],1)],1)],1)},r=[],n=a("c5c2"),o=a("ed08"),i={props:{value:{type:Boolean,default:!1},gameId:{type:String,default:""},type:{type:String,default:"1"}},data:function(){return{noticeList:[],noticeTimer:"",rankingList:[],rankTimer:""}},watch:{value:function(e){e&&(this.getIndexNotice(),this.getRankingList())}},methods:{parseTime:function(e){return Object(o["b"])(e)},close:function(){var e=this;this.$emit("input",!1),setTimeout((function(){clearInterval(e.noticeTimer),clearInterval(e.rankTimer)}),500)},getRankingList:function(){var e=this;Object(n["i"])({gameId:this.gameId,enable:1}).then((function(t){e.rankingList=t.data}))},getIndexNotice:function(){var e=this;Object(n["h"])({gameId:this.gameId,pageNo:1,pageSize:15,type:"2"}).then((function(t){e.noticeList=t.data.records}))}}},l=i,c=(a("0a5f"),a("2877")),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},ad35:function(e,t,a){"use strict";var s=a("4eff"),r=a.n(s);r.a},aef8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:e.addSign?"新增":"修改"},on:{"update:visible":function(t){e.value=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"赛事名称",prop:"gameName"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.gameName,callback:function(t){e.$set(e.ruleForm,"gameName",t)},expression:"ruleForm.gameName"}})],1),a("el-form-item",{attrs:{label:"比赛类型",prop:"gameType"}},[a("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择比赛类型"},model:{value:e.ruleForm.gameType,callback:function(t){e.$set(e.ruleForm,"gameType",t)},expression:"ruleForm.gameType"}},[a("el-option",{attrs:{label:"个人",value:"1"}}),a("el-option",{attrs:{label:"团队",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"参赛者"}},[a("div",{staticClass:"itemwidth el-input",on:{click:e.getpsn}},[a("div",{staticClass:"box"},e._l(e.joiners,(function(t,s){return a("el-tag",{key:s,attrs:{type:"info",closable:""},on:{close:function(a){return e.handleClose(t,s)}}},[e._v(" "+e._s(t.username)+" ")])})),1)])]),a("el-form-item",{attrs:{label:"比赛时间",prop:"description"}},[a("el-date-picker",{staticClass:"itemwidth",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1),a("el-form-item",{attrs:{label:"比赛官网",prop:"gameOfficeAddress"}},[a("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.gameOfficeAddress,callback:function(t){e.$set(e.ruleForm,"gameOfficeAddress",t)},expression:"ruleForm.gameOfficeAddress"}})],1),a("el-form-item",{attrs:{label:"赛事描述",prop:"description"}},[a("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),a("el-form-item",{attrs:{label:"比赛详细描述",prop:"gameText"}},[a("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.gameText,callback:function(t){e.$set(e.ruleForm,"gameText",t)},expression:"ruleForm.gameText"}})],1),a("el-form-item",{attrs:{label:"比赛LOGO图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleiconSuccess,"before-upload":e.beforeAvatarUpload,action:"/baseApi/oss"}},[e.iconUrl?a("img",{staticClass:"avatar",attrs:{src:e.iconUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"赛事主图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,action:"/baseApi/oss"}},[e.mainPic?a("img",{staticClass:"avatar",attrs:{src:e.mainPic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"赛事说明"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleRemark,"file-list":e.remark,action:"/baseApi/oss"},on:{"on-remove":e.handleRemove1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传md/pdf文件")])],1)],1),a("el-form-item",{attrs:{label:"赛事积分说明"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleScoreRemark,"file-list":e.scoreRemark,action:"/baseApi/oss"},on:{"on-remove":e.handleRemove2}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传md/pdf文件")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{on:{click:e.back}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogTableVisible,width:"70%",title:"参赛者"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.extraParam.username,callback:function(t){e.$set(e.extraParam,"username",t)},expression:"extraParam.username"}})],1),a("el-form-item",{attrs:{label:"公司",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.extraParam.company,callback:function(t){e.$set(e.extraParam,"company",t)},expression:"extraParam.company"}})],1),a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.extraParam.school,callback:function(t){e.$set(e.extraParam,"school",t)},expression:"extraParam.school"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.handleCurrentChange(1)}}},[e._v("查询")])],1),a("el-table",{ref:"multipleTable",staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.tableData,"tooltip-effect":"dark"},on:{select:e.select,"select-all":e.selectAll}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"username",align:"center",label:"用户名"}}),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"电话号码"}}),a("el-table-column",{attrs:{prop:"email",align:"center",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"school",align:"center",label:"学校"}}),a("el-table-column",{attrs:{prop:"company",align:"center",label:"公司"}})],1),a("div",{staticClass:"pager-container mt30"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.subTotal,background:"",size:"small",layout:"total,prev, pager, next, sizes, jumper, slot"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[a("el-button",{staticClass:"pagination-button",attrs:{size:"small",plain:""}},[e._v("确定")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("确 定")])],1)],1)],1)},r=[],n=(a("a4d3"),a("e01a"),a("4de4"),a("c740"),a("4160"),a("caad"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("2b3d"),a("c5c2")),o=a("c24f"),i={components:{},props:{value:{type:Boolean,default:!1},addSign:{type:Boolean,default:!1},mainId:{type:String,default:""}},data:function(){return{dialogTableVisible:!1,joiners:[],ruleForm:{date:[],description:"",endTime:"",gameId:"",gameName:"",gameOfficeAddress:"",gameStatus:"",gameText:"",gameType:"1",gameWay:"",iconUrl:"",joinerIds:[],mainPic:"",organizer:"",remark:"",scoreRemark:"",startTime:""},rules:{gameName:[{required:!0,message:"请输入赛事名称",trigger:"blur"}],gameType:[{required:!0,message:"请选择比赛类型",trigger:"change"}]},remark:[],scoreRemark:[],iconUrl:"",mainPic:"",tableData:[],subTotal:0,pageSize:10,currentPage:1,extraParam:{}}},watch:{value:function(e){e&&(this.addSign?this.ruleForm={date:[],description:"",endTime:"",gameId:"",gameName:"",gameOfficeAddress:"",gameStatus:"",gameText:"",gameType:"1",gameWay:"",iconUrl:"",joinerIds:[],mainPic:"",organizer:"",remark:"",scoreRemark:"",startTime:""}:this.getGameInfoDetail())}},mounted:function(){var e=this;this.$nextTick((function(){e.getUserInfoList()}))},methods:{getpsn:function(){this.dialogTableVisible=!0},handleClose:function(e,t){this.joiners.splice(t,1),this.$refs.multipleTable.toggleRowSelection(e)},select:function(e,t){if(console.log(e,t),e.includes(t))this.joiners.push(t);else{var a=this.joiners.findIndex((function(e){return e.usrId===t.usrId}));this.joiners.splice(a,1)}},selectAll:function(e){var t=this;e.length>0?this.tableData.forEach((function(e){var a=t.joiners.findIndex((function(t){return t.usrId===e.usrId}));-1===a&&t.joiners.push(e)})):this.joiners.forEach((function(e,a){t.tableData.forEach((function(a){e.usrId==a.usrId&&(t.joiners=t.joiners.filter((function(e){return e.usrId!=a.usrId})))}))}))},getTeamInfoListForPage:function(){var e=this;Object(o["m"])({currentPage:this.currentPage,extraParam:{},pageSize:this.pageSize}).then((function(t){t.success&&(e.tableData=t.data,e.joiners.forEach((function(t){e.tableData.forEach((function(a){t.teamId===a.teamId&&e.$refs.multipleTable.toggleRowSelection(a,!0)}))})),e.subTotal=t.count)}))},getUserInfoList:function(){var e=this,t={};for(var a in this.extraParam)""!=this.extraParam[a]&&(t[a]=this.extraParam[a]);Object(o["n"])({currentPage:this.currentPage,extraParam:t,pageSize:this.pageSize}).then((function(t){t.success&&(e.tableData=t.data,e.joiners.forEach((function(t){e.tableData.forEach((function(a){t.usrId===a.usrId&&e.$refs.multipleTable.toggleRowSelection(a,!0)}))})),e.subTotal=t.count)}))},handleSizeChange:function(e){this.pageSize=e,this.getUserInfoList()},handleCurrentChange:function(e){this.currentPage=e,this.getUserInfoList()},handleRemark:function(e,t,a){console.log(e,t,a),e.success?(this.remark=[{name:t.name,url:e.message}],this.ruleForm.remark=e.message):(this.remark=[],this.ruleForm.remark="",this.$message.error(e.message))},handleScoreRemark:function(e,t,a){console.log(e,t,a),e.success?(this.scoreRemark=[{name:t.name,url:e.message}],this.ruleForm.scoreRemark=e.message):(this.scoreRemark=[],this.ruleForm.scoreRemark="",this.$message.error(e.message))},handleRemove1:function(e,t){console.log(e,t),this.remark=[],this.ruleForm.remark=""},handleRemove2:function(e,t){console.log(e,t),this.scoreRemark=[],this.ruleForm.scoreRemark=""},handleAvatarSuccess:function(e,t){e.success?this.mainPic=URL.createObjectURL(t.raw):(this.mainPic="",this.$message.error(e.message))},handleiconSuccess:function(e,t){e.success?this.iconUrl=URL.createObjectURL(t.raw):(this.iconUrl="",this.$message.error(e.message))},beforeAvatarUpload:function(e){console.log(e.type);var t="image/jpeg"==e.type||"image/png",a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG /png /git 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},getGameInfoDetail:function(){var e=this;Object(n["e"])({gameId:this.mainId}).then((function(t){if(t.success){e.ruleForm=t.data,e.ruleForm.date=[t.data.startTime,t.data.endTime];var a=t.data.remark.split("/");console.log(a),e.remark=""==t.data.remark?[]:[{name:a[a.length-1],url:t.data.remark}];var s=t.data.scoreRemark.split("/");e.scoreRemark=""==t.data.scoreRemark?[]:[{name:s[s.length-1],url:t.data.scoreRemark}]}}))},back:function(){this.$emit("input",!1)},onSubmit:function(){var e=this,t=[];this.joiners.forEach((function(e){t.push(e.usrId)})),this.$refs.ruleForm.validate((function(a){console.log(a),a&&(e.addSign?Object(n["a"])({description:e.ruleForm.description,endTime:e.ruleForm.date[1],gameId:"",gameName:e.ruleForm.gameName,gameOfficeAddress:e.ruleForm.gameOfficeAddress,gameStatus:"1",gameText:e.ruleForm.gameText,gameType:e.ruleForm.gameType,gameWay:e.ruleForm.gameWay,iconUrl:e.iconUrl,joinerIds:t,mainPic:e.mainPic,organizer:e.ruleForm.organizer,remark:e.ruleForm.remark,scoreRemark:e.ruleForm.scoreRemark,startTime:e.ruleForm.date[0]}).then((function(t){t.success?(e.$message({type:"success",message:"新增成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})})):e.$confirm("每次修改，分配到每个用户的比赛秘钥都会变化, 是否继续?","提示",{type:"warning"}).then((function(){Object(n["m"])({description:e.ruleForm.description,endTime:e.ruleForm.date[1],gameId:e.ruleForm.gameId,gameName:e.ruleForm.gameName,gameOfficeAddress:e.ruleForm.gameOfficeAddress,gameStatus:e.ruleForm.gameStatus,gameText:e.ruleForm.gameText,gameType:e.ruleForm.gameType,gameWay:e.ruleForm.gameWay,iconUrl:e.iconUrl,joinerIds:t,mainPic:e.mainPic,organizer:e.ruleForm.organizer,remark:e.ruleForm.remark,scoreRemark:e.ruleForm.scoreRemark,startTime:e.ruleForm.date[0]}).then((function(t){t.success?(e.$message({type:"success",message:"修改成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:t.message})}))})).catch((function(){})))}))}}},l=i,c=(a("0b1f"),a("2877")),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},bf8b:function(e,t){e.exports="data:image/png;base64,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"},c3ff:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#edeef2"}},[a("div",{staticClass:"hb-user-detail"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("比赛管理")]),a("div",{staticClass:"right-part"},[-1!=e.buttons.indexOf("31")?a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addNew}},[e._v("新增")]):e._e()],1)]),a("el-form",{ref:"ruleForm",attrs:{inline:""}},[a("el-form-item",{attrs:{label:"赛事状态",prop:"gameStatus"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择赛事状态"},model:{value:e.extraParam.gameStatus,callback:function(t){e.$set(e.extraParam,"gameStatus",t)},expression:"extraParam.gameStatus"}},e._l(e.gameStatus,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t+1}})})),1)],1),a("el-form-item",{attrs:{label:"比赛类型",prop:"gameType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择比赛类型"},model:{value:e.extraParam.gameType,callback:function(t){e.$set(e.extraParam,"gameType",t)},expression:"extraParam.gameType"}},[a("el-option",{attrs:{label:"个人",value:"1"}}),a("el-option",{attrs:{label:"团队",value:"2"}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.handleCurrentChange(1)}}},[e._v("查询")])],1),a("div",{staticClass:"user-child-list"},[a("el-table",{ref:"subAccountListTable",staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.tableList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"gameName",align:"center",label:"赛事名称"}}),a("el-table-column",{attrs:{prop:"gameText",align:"center","show-overflow-tooltip":"",label:"比赛详细描述"}}),a("el-table-column",{attrs:{prop:"gameStatus",align:"center",label:"赛事状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.gameStatus[t.row.gameStatus-1])+" ")]}}])}),a("el-table-column",{attrs:{label:"比赛类型",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.gameType[t.row.gameType-1])+" ")]}}])}),a("el-table-column",{attrs:{prop:"startTime",align:"center",label:"开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.startTime?e.parseTime(t.row.startTime):"")+" ")]}}])}),a("el-table-column",{attrs:{prop:"endTime",align:"center",label:"结束时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.endTime?e.parseTime(t.row.endTime):"")+" ")]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=e.buttons.indexOf("33")?a("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.handleEdit(t.row.gameId)}}},[e._v("编辑")]):e._e(),1==t.row.gameStatus&&-1!=e.buttons.indexOf("32")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.deleteGame(t.row.gameId)}}},[e._v("删除")]):e._e(),1==t.row.gameStatus&&-1!=e.buttons.indexOf("61")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleCreatePaper(t.row.gameId)}}},[e._v("生成试卷")]):e._e(),1==t.row.gameStatus&&-1!=e.buttons.indexOf("36")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.startGame(t.row.gameId)}}},[e._v("发布比赛")]):e._e(),2==t.row.gameStatus&&-1!=e.buttons.indexOf("60")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.endGame(t.row.gameId)}}},[e._v("结束比赛")]):e._e(),2==t.row.gameStatus&&-1!=e.buttons.indexOf("30")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.seeLive(t.row.gameId)}}},[e._v("观看比赛")]):e._e(),2==t.row.gameStatus&&-1!=e.buttons.indexOf("38")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.operationsGame(t.row)}}},[e._v("运维管理")]):e._e(),1==t.row.gameStatus&&-1!=e.buttons.indexOf("40")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.seeDescription(t.row.gameId)}}},[e._v("比赛说明")]):e._e(),3==t.row.gameStatus&&-1!=e.buttons.indexOf("37")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.releaseScore(t.row.gameId)}}},[e._v("发布成绩")]):e._e(),3==t.row.gameStatus&&-1!=e.buttons.indexOf("34")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.seeScore(t.row)}}},[e._v("比赛成绩")]):e._e()]}}])})],1),a("div",{staticClass:"pager-container mt30"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.tableTotal,background:"",size:"small",layout:"total,prev, pager, next, sizes, jumper, slot"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[a("el-button",{staticClass:"pagination-button",attrs:{size:"small",plain:""}},[e._v("确定")])],1)],1)],1)],1)],1),a("createPaper",{attrs:{"game-id":e.gameId},model:{value:e.dialogTableVisible,callback:function(t){e.dialogTableVisible=t},expression:"dialogTableVisible"}}),a("description",{attrs:{"game-id":e.gameId},model:{value:e.showDescription,callback:function(t){e.showDescription=t},expression:"showDescription"}}),a("achievement",{attrs:{type:e.type,"game-id":e.gameId},model:{value:e.showAchievement,callback:function(t){e.showAchievement=t},expression:"showAchievement"}}),a("live",{attrs:{type:e.type,"game-id":e.gameId},model:{value:e.showLive,callback:function(t){e.showLive=t},expression:"showLive"}}),a("operations",{attrs:{type:e.type,"game-id":e.gameId},model:{value:e.showOperations,callback:function(t){e.showOperations=t},expression:"showOperations"}}),a("modify",{attrs:{"add-sign":e.addSign,"main-id":e.mainId},on:{getList:e.getGameInfoListForPage},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)},r=[],n=a("c5c2"),o=a("c708"),i=a("ed08"),l=a("aef8"),c=a("ead1"),u=a("e9e9"),m=a("e588"),d=a("973b"),g={components:{createPaper:o["default"],modify:l["default"],description:c["default"],achievement:u["default"],live:d["default"],operations:m["default"]},data:function(){return{show:!1,addSign:!1,mainId:"",dialogTableVisible:!1,tableList:[],tableTotal:0,pageSize:10,currentPage:1,gameId:"",gameStatus:["未开始","进行中","已结束"],gameType:["个人","团队"],extraParam:{},showDescription:!1,showAchievement:!1,type:"1",showLive:!1,showOperations:!1}},computed:{buttons:function(){return this.$store.state.buttons}},mounted:function(){this.getGameInfoListForPage()},methods:{parseTime:function(e){return Object(i["b"])(e)},addNew:function(){this.show=!0,this.addSign=!0,this.mainId=""},handleEdit:function(e){this.show=!0,this.mainId=e,this.addSign=!1},seeLive:function(e){this.showLive=!0,this.gameId=e},handleCreatePaper:function(e){this.dialogTableVisible=!0,this.gameId=e},seeDescription:function(e){this.showDescription=!0,this.gameId=e},seeScore:function(e){this.showAchievement=!0,this.gameId=e.gameId,this.type=e.gameType},operationsGame:function(e){this.showOperations=!0,this.gameId=e.gameId,this.type=e.gameType},releaseScore:function(e){var t=this;this.$confirm("是否要发布成绩?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["n"])({gameId:e}).then((function(e){e.success?(t.$message({type:"success",message:"成绩发布成功"}),t.getGameInfoListForPage()):t.$message({type:"warning",message:e.message})}))})).catch((function(){t.$message({type:"info",message:"已取消发布成绩"})}))},deleteGame:function(e){var t=this;this.$confirm("此操作将永久删除该比赛, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["c"])({gameId:e}).then((function(e){e.success?(t.$message({type:"success",message:"删除成功"}),t.currentPage=1,t.getGameInfoListForPage()):t.$message({type:"warning",message:e.message})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},endGame:function(e){var t=this;this.$confirm("此操作将结束改比赛, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["d"])({gameId:e}).then((function(e){e.success?(t.$message({type:"success",message:"比赛已结束"}),t.currentPage=1,t.getGameInfoListForPage()):t.$message({type:"warning",message:e.message})}))})).catch((function(){t.$message({type:"info",message:"已取消结束比赛"})}))},startGame:function(e){var t=this;this.$confirm("是否要发布比赛?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["p"])({gameId:e}).then((function(a){a.success?(t.$message({type:"success",message:"比赛发布成功"}),t.sendGameToken(e),t.currentPage=1,t.getGameInfoListForPage()):t.$message({type:"warning",message:a.message})}))})).catch((function(){t.$message({type:"info",message:"已取消发布"})}))},sendGameToken:function(e){var t=this;Object(n["o"])({gameId:e}).then((function(e){e.success?t.$message({type:"success",message:"发送赛事密钥短信成功"}):t.$message({type:"warning",message:e.message})}))},getGameInfoListForPage:function(){var e=this;Object(n["f"])({currentPage:this.currentPage,extraParam:this.extraParam,pageSize:this.pageSize}).then((function(t){t.success&&(e.tableList=t.data,e.tableTotal=t.count)}))},handleSizeChange:function(e){this.pageSize=e,this.getGameInfoListForPage()},handleCurrentChange:function(e){this.currentPage=e,this.getGameInfoListForPage()},handleSubAccountStatusStatus:function(e){this.subAccountStatus=e,this.currentPage=1,this.getGameInfoListForPage()}}},f=g,p=(a("40e1"),a("2877")),h=Object(p["a"])(f,s,r,!1,null,"442eae09",null);t["default"]=h.exports},c685:function(e,t,a){"use strict";var s=a("2388"),r=a.n(s);r.a},e588:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:"比赛排名"},on:{"update:visible":function(t){e.value=t}}},[a("div",{attrs:{id:"details-content"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.rankingList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"rowNum",align:"center",label:"排名"}}),a("el-table-column",{attrs:{prop:"gameText",align:"center",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("img",{staticClass:"head",attrs:{src:null==t.portrait?"":t.portrait,alt:""}})]}}])}),"2"==e.type?a("el-table-column",{attrs:{prop:"team_name",align:"center",label:"战队"}}):a("el-table-column",{attrs:{prop:"userName",align:"center",label:"姓名"}}),a("el-table-column",{attrs:{prop:"score",align:"center",label:"成绩"}}),a("el-table-column",{attrs:{prop:"mold",align:"center",label:"解题数量"}}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.viewList(t.row.id)}}},[e._v("查看答题列表")]),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.hideContestUserScore(t.row)}}},[e._v(e._s(1==t.row.enable?"隐藏成绩":"显示成绩"))])]}}])})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("关闭")])],1)]),a("el-dialog",{attrs:{visible:e.showList,"show-close":!1,title:"答题列表"},on:{"update:visible":function(t){e.showList=t}}},[a("div",{attrs:{id:"details-content"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.scoreViewList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"gameName",align:"center",label:"竞赛名称"}}),a("el-table-column",{attrs:{prop:"challengeName",align:"center",label:"题目"}}),a("el-table-column",{attrs:{prop:"resultScore",align:"center",label:"成绩"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.edit?a("el-input",{staticStyle:{width:"calc(100% - 40px)"},attrs:{size:"small",placeholder:"请输入"},model:{value:s.resultScore,callback:function(t){e.$set(s,"resultScore",t)},expression:"row.resultScore"}}):e._e(),s.edit?e._e():a("span",{staticStyle:{"line-height":"32px"}},[e._v(e._s(s.resultScore))]),s.edit||-1==e.buttons.indexOf("39")?e._e():a("span",{staticClass:"el-icon-edit-outline icon",on:{click:function(e){s.edit=!0}}}),s.edit?a("span",{staticClass:"el-icon-close icon",on:{click:e.getScoreViewList}}):e._e(),s.edit?a("span",{staticClass:"el-icon-check icon",on:{click:function(t){return e.modifyContestFinalScore(s)}}}):e._e()]}}])})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showList=!1}}},[e._v("关闭")])],1)])],1)},r=[],n=(a("4160"),a("159b"),a("c5c2")),o={props:{value:{type:Boolean,default:!1},gameId:{type:String,default:""},type:{type:String,default:"1"}},data:function(){return{rankingList:[],scoreViewList:[],showList:!1,scoreId:""}},computed:{buttons:function(){return this.$store.state.buttons}},watch:{value:function(e){e&&this.getRankingList()}},methods:{close:function(){this.$emit("input",!1)},getRankingList:function(){var e=this;Object(n["i"])({gameId:this.gameId}).then((function(t){e.rankingList=t.data}))},viewList:function(e){this.scoreId=e,this.getScoreViewList()},getScoreViewList:function(){var e=this;Object(n["j"])({scoreId:this.scoreId}).then((function(t){t.data&&t.data.forEach((function(e){e.edit=!1})),e.scoreViewList=t.data,e.showList=!0}))},hideContestUserScore:function(e){var t=this;this.$confirm("是否要"+(1==e.enable?"隐藏":"显示")+"用户竞赛成绩?","提示",{type:"warning"}).then((function(){Object(n["k"])({scoreId:e.id}).then((function(e){e.success?(t.$message({type:"success",message:"操作成功"}),t.getRankingList()):t.$message({type:"warning",message:e.message})}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},modifyContestFinalScore:function(e){var t=this,a=this,s=[{id:e.id,resultScore:e.resultScore,scoreId:e.scoreId}];this.$confirm("是否要修改用户竞赛成绩?","提示",{type:"warning"}).then((function(){Object(n["l"])(s).then((function(e){e.success?(t.$message({type:"success",message:"修改成功"}),a.getScoreViewList()):t.$message({type:"warning",message:e.message})}))}))}}},i=o,l=(a("ad35"),a("2877")),c=Object(l["a"])(i,s,r,!1,null,"131f059d",null);t["default"]=c.exports},e9e9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:"比赛成绩"},on:{"update:visible":function(t){e.value=t}}},[a("div",{attrs:{id:"details-content"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("el-table",{staticClass:"list-table",attrs:{"header-cell-style":{background:"#f7f7f7",color:"#333333",fontWeight:"bold"},"cell-style":{fontSize:"12px"},data:e.rankingList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"rowNum",align:"center",label:"排名"}}),a("el-table-column",{attrs:{prop:"gameText",align:"center",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("img",{staticClass:"head",attrs:{src:null==t.portrait?"":t.portrait,alt:""}})]}}])}),"2"==e.type?a("el-table-column",{attrs:{prop:"team_name",align:"center",label:"战队"}}):a("el-table-column",{attrs:{prop:"userName",align:"center",label:"姓名"}}),a("el-table-column",{attrs:{prop:"score",align:"center",label:"成绩"}}),a("el-table-column",{attrs:{prop:"mold",align:"center",label:"解题数量"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("关闭")])],1)])],1)},r=[],n=a("c5c2"),o={props:{value:{type:Boolean,default:!1},gameId:{type:String,default:""},type:{type:String,default:"1"}},data:function(){return{rankingList:[]}},watch:{value:function(e){e&&this.getRankingList()}},methods:{close:function(){this.$emit("input",!1)},getRankingList:function(){var e=this;Object(n["i"])({gameId:this.gameId,enable:1}).then((function(t){e.rankingList=t.data}))}}},i=o,l=(a("c685"),a("2877")),c=Object(l["a"])(i,s,r,!1,null,"20365dc4",null);t["default"]=c.exports},ee6e:function(e,t){e.exports="data:image/png;base64,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"}}]);