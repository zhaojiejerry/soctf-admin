(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf5c4a66","chunk-2d2077b3"],{1460:function(e,o,t){"use strict";var r=t("a4c8"),i=t.n(r);i.a},2934:function(e,o,t){"use strict";t.d(o,"a",(function(){return i}));var r=t("1d97");function i(e){return Object(r["a"])({url:e,baseURL:"/jsonApi"})}},6774:function(e,o,t){"use strict";t.d(o,"a",(function(){return i})),t.d(o,"b",(function(){return c})),t.d(o,"c",(function(){return l})),t.d(o,"d",(function(){return n})),t.d(o,"e",(function(){return a}));var r=t("1d97");function i(e){return Object(r["a"])({url:"/addChoiceQuestion",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/deleteChoiceQuestion",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/getChoiceListForAdmin",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/getOneChoiceQuestion",method:"post",params:e})}function a(e){return Object(r["a"])({url:"/modifyChoiceQuestion",method:"post",data:e})}},a15b:function(e,o,t){"use strict";var r=t("23e7"),i=t("44ad"),c=t("fc6a"),l=t("a640"),n=[].join,a=i!=Object,s=l("join",",");r({target:"Array",proto:!0,forced:a||!s},{join:function(e){return n.call(c(this),void 0===e?",":e)}})},a434:function(e,o,t){"use strict";var r=t("23e7"),i=t("23cb"),c=t("a691"),l=t("50c4"),n=t("7b0b"),a=t("65f0"),s=t("8418"),u=t("1dde"),m=t("ae40"),p=u("splice"),d=m("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,g=9007199254740991,F="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,o){var t,r,u,m,p,d,b=n(this),y=l(b.length),v=i(e,y),C=arguments.length;if(0===C?t=r=0:1===C?(t=0,r=y-v):(t=C-2,r=h(f(c(o),0),y-v)),y+t-r>g)throw TypeError(F);for(u=a(b,r),m=0;m<r;m++)p=v+m,p in b&&s(u,m,b[p]);if(u.length=r,t<r){for(m=v;m<y-r;m++)p=m+r,d=m+t,p in b?b[d]=b[p]:delete b[d];for(m=y;m>y-r+t;m--)delete b[m-1]}else if(t>r)for(m=y-r;m>v;m--)p=m+r-1,d=m+t-1,p in b?b[d]=b[p]:delete b[d];for(m=0;m<t;m++)b[m+v]=arguments[m+2];return b.length=y-r+t,u}})},a4c8:function(e,o,t){},f8e9:function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-dialog",{attrs:{visible:e.value,"show-close":!1,title:e.addSign?"新增":"修改"},on:{"update:visible":function(o){e.value=o}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[t("el-form-item",{attrs:{label:"题目名称",prop:"name"}},[t("el-input",{staticClass:"itemwidth",model:{value:e.ruleForm.name,callback:function(o){e.$set(e.ruleForm,"name",o)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"选择题类型",prop:"choiceType"}},[t("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择类型"},model:{value:e.ruleForm.choiceType,callback:function(o){e.$set(e.ruleForm,"choiceType",o)},expression:"ruleForm.choiceType"}},[t("el-option",{attrs:{label:"单选",value:"1"}}),t("el-option",{attrs:{label:"多选",value:"2"}})],1)],1),t("el-form-item",{attrs:{label:"选项"}},e._l(e.ruleForm.optionVos,(function(o,r){return t("div",{key:r},[t("el-input",{staticClass:"itemwidth",model:{value:o.optionDescription,callback:function(t){e.$set(o,"optionDescription",t)},expression:"item.optionDescription"}}),t("span",0==r?{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"25px","vertical-align":"middle"},on:{click:e.plus}}:{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"25px","vertical-align":"middle"},on:{click:function(o){return e.remove(r)}}})],1)})),0),t("el-form-item",{attrs:{label:"正确答案",prop:"correctAnswer"}},[t("el-select",{staticClass:"itemwidth",attrs:{multiple:2==e.ruleForm.choiceType,placeholder:"请选择标签"},model:{value:e.ruleForm.correctAnswer,callback:function(o){e.$set(e.ruleForm,"correctAnswer",o)},expression:"ruleForm.correctAnswer"}},e._l(e.ruleForm.optionVos,(function(e,o){return t("el-option",{key:o,attrs:{label:e.optionDescription,value:e.optionCode}})})),1)],1),t("el-form-item",{attrs:{label:"类别",prop:"category"}},[t("el-select",{staticClass:"itemwidth",attrs:{placeholder:"请选择类别"},model:{value:e.ruleForm.category,callback:function(o){e.$set(e.ruleForm,"category",o)},expression:"ruleForm.category"}},e._l(e.subject,(function(e,o){return t("el-option",{key:o,attrs:{label:e.name,value:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"难易程度",prop:"difficultyLevel"}},[t("div",{staticClass:"itemwidth",staticStyle:{"padding-top":"10px"}},[t("el-rate",{model:{value:e.ruleForm.difficultyLevel,callback:function(o){e.$set(e.ruleForm,"difficultyLevel",o)},expression:"ruleForm.difficultyLevel"}})],1)]),t("el-form-item",{attrs:{label:"金币",prop:"goldCoin"}},[t("el-input",{staticClass:"itemwidth",attrs:{min:0},model:{value:e.ruleForm.goldCoin,callback:function(o){e.$set(e.ruleForm,"goldCoin",e._n(o))},expression:"ruleForm.goldCoin"}})],1),t("el-form-item",{attrs:{label:"分值",prop:"choiceScore"}},[t("el-input",{staticClass:"itemwidth",attrs:{min:0},model:{value:e.ruleForm.choiceScore,callback:function(o){e.$set(e.ruleForm,"choiceScore",e._n(o))},expression:"ruleForm.choiceScore"}})],1),t("el-form-item",{attrs:{label:"答题时间/秒",prop:"choiceTime"}},[t("el-input",{staticClass:"itemwidth",attrs:{min:0},model:{value:e.ruleForm.choiceTime,callback:function(o){e.$set(e.ruleForm,"choiceTime",e._n(o))},expression:"ruleForm.choiceTime"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"choiceDescription"}},[t("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.choiceDescription,callback:function(o){e.$set(e.ruleForm,"choiceDescription",o)},expression:"ruleForm.choiceDescription"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{staticClass:"itemwidth",attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(o){e.$set(e.ruleForm,"remark",o)},expression:"ruleForm.remark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),t("el-button",{on:{click:e.back}},[e._v("取消")])],1)],1)},i=[],c=(t("a15b"),t("a434"),t("b0c0"),t("6774")),l=t("2934"),n={components:{},props:{value:{type:Boolean,default:!1},addSign:{type:Boolean,default:!1},mainId:{type:String,default:""}},data:function(){return{ruleForm:{bankId:"",category:"",choiceDescription:"",choiceId:"",choiceScore:0,choiceTime:0,choiceType:"",correctAnswer:"",difficultyLevel:0,goldCoin:0,name:"",optionArray:"",optionVos:[{optionCode:String.fromCharCode(65),optionDescription:""}],remark:"",solved:!1},label:[],rules:{name:[{required:!0,message:"请输入题目名称",trigger:"blur"}],choiceType:[{required:!0,message:"请选择选择题类型",trigger:"change"}],correctAnswer:[{required:!0,message:"请选择答案",trigger:"change"}],category:[{required:!0,message:"请选择类别",trigger:"change"}]},fileList:[],subject:[]}},watch:{value:function(e){e&&(this.addSign?this.ruleForm={bankId:"",category:"",choiceDescription:"",choiceId:"",choiceScore:0,choiceTime:0,choiceType:"",correctAnswer:"",difficultyLevel:0,goldCoin:0,name:"",optionArray:"",optionVos:[{optionCode:String.fromCharCode(65),optionDescription:""}],remark:"",solved:!1}:this.getOneChoiceQuestion())}},mounted:function(){this.getjson()},methods:{getjson:function(){var e=this;Object(l["a"])("ctf.json").then((function(o){e.subject=o.subject}))},plus:function(){this.ruleForm.optionVos.push({optionCode:String.fromCharCode(64+this.ruleForm.optionVos.length+1),optionDescription:""}),console.log(this.ruleForm.optionVos)},remove:function(e){this.ruleForm.optionVos.splice(e,1)},getOneChoiceQuestion:function(){var e=this;Object(c["d"])({choiceId:this.mainId}).then((function(o){o.success&&(e.ruleForm=o.data,e.ruleForm.difficultyLevel=parseInt(o.data.difficultyLevel))}))},back:function(){this.$emit("input",!1)},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(o){o&&(e.addSign?Object(c["a"])({bankId:"",category:e.ruleForm.category,choiceDescription:e.ruleForm.choiceDescription,choiceId:"",choiceScore:e.ruleForm.choiceScore,choiceTime:e.ruleForm.choiceTime,choiceType:e.ruleForm.choiceType,correctAnswer:2==e.ruleForm.choiceType?e.ruleForm.correctAnswer.join(","):e.ruleForm.correctAnswer,difficultyLevel:e.ruleForm.difficultyLevel,goldCoin:e.ruleForm.goldCoin,name:e.ruleForm.name,optionArray:e.ruleForm.optionArray,optionVos:e.ruleForm.optionVos,remark:e.ruleForm.remark,solved:!1}).then((function(o){o.success?(e.$message({type:"success",message:"新增成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:o.message})})):Object(c["e"])({bankId:e.ruleForm.bankId,category:e.ruleForm.category,choiceDescription:e.ruleForm.choiceDescription,choiceId:e.ruleForm.choiceId,choiceScore:e.ruleForm.choiceScore,choiceTime:e.ruleForm.choiceTime,choiceType:e.ruleForm.choiceType,correctAnswer:2==e.ruleForm.choiceType?e.ruleForm.correctAnswer.join(","):e.ruleForm.correctAnswer,difficultyLevel:e.ruleForm.difficultyLevel,goldCoin:e.ruleForm.goldCoin,name:e.ruleForm.name,optionArray:e.ruleForm.optionArray,optionVos:e.ruleForm.optionVos,remark:e.ruleForm.remark,solved:e.ruleForm.solved}).then((function(o){o.success?(e.$message({type:"success",message:"修改成功"}),e.back(),e.$emit("getList")):e.$message({type:"warning",message:o.message})})))}))}}},a=n,s=(t("1460"),t("2877")),u=Object(s["a"])(a,r,i,!1,null,null,null);o["default"]=u.exports}}]);